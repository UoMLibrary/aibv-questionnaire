import{a as b,f as k}from"../chunks/3MeJAyDi.js";import{i as ke}from"../chunks/Biedmao3.js";import{S as Se,T as Fe,W as a,Y as i,w as e,Z as r,I as O,X as S,$ as E,_ as y,a2 as we,a6 as V,a7 as ee}from"../chunks/CiiSKS_t.js";import{e as Oe,s as d}from"../chunks/DNPCJNaY.js";import{i as te}from"../chunks/D0zR2ufV.js";import{e as R,i as B}from"../chunks/hyMIDi62.js";var ye=k('<p class="meta svelte-83i92j"> </p>'),Ce=k("<li> </li>"),Te=k("<li><strong> </strong> </li>"),Ae=k("<li><strong> </strong> </li>"),Ie=k('<div class="rank-item svelte-83i92j"><div><strong> </strong> <p class="small svelte-83i92j"> </p></div> <div class="score-badge svelte-83i92j"> </div></div>'),Ee=k("<li><strong> </strong> </li>"),Me=k("<li> </li>"),Ne=k('<div class="concerns svelte-83i92j"><h3>Concerns / Safeguards Raised</h3> <ul></ul></div>'),We=k('<div class="card highlight svelte-83i92j"><h2 class="svelte-83i92j">Emerging Themes</h2> <ul></ul></div> <div class="card svelte-83i92j"><h2 class="svelte-83i92j">Current State Confidence (Average)</h2> <ul><li><strong>Trust:</strong> </li> <li><strong>Completeness:</strong> </li> <li><strong>Ownership:</strong> </li> <li><strong>Monitoring:</strong> </li></ul></div> <div class="card svelte-83i92j"><h2 class="svelte-83i92j">Top 5 Minimum Baseline Fields (Weighted)</h2> <ul></ul></div> <div class="card svelte-83i92j"><h2 class="svelte-83i92j">Top 5 Friction Factors (Weighted)</h2> <ul></ul></div> <div class="card svelte-83i92j"><h2 class="svelte-83i92j">Initiative Prioritisation (Averaged)</h2> <!></div> <div class="card svelte-83i92j"><h2 class="svelte-83i92j">AI Governance Appetite</h2> <ul></ul> <!></div>',1),Je=k('<div class="container svelte-83i92j"><header class="page-header svelte-83i92j"><div class="header-left svelte-83i92j"><h1 class="svelte-83i92j">Aggregated Workshop Summary</h1> <p class="subtitle svelte-83i92j">Upload workshop JSON files to generate a consolidated view.</p> <!></div> <div class="header-right svelte-83i92j"><label class="upload svelte-83i92j"><span>Upload JSON Files</span> <input type="file" multiple accept="application/json" class="svelte-83i92j"/></label></div></header> <!></div>');function Xe(ne,ve){Se(ve,!1);let C=O([]),M=O({}),N=O({}),W=O({}),P=O([]),l=O({trust:0,completeness:0,ownership:0,monitoring:0}),T=0,F={},L=O([]),A=O([]);function ce(c){const f=c.target;if(!f.files)return;const _=Array.from(f.files).map(j=>j.text().then(t=>JSON.parse(t)));Promise.all(_).then(j=>{S(C,j),de()})}function de(){S(M,{}),S(N,{}),S(W,{}),S(P,[]),F={},S(L,[]),S(A,[]),S(l,{trust:0,completeness:0,ownership:0,monitoring:0}),T=0;for(const t of e(C)){if(t.frictionOrder){const s=t.frictionOrder.length;t.frictionOrder.forEach((m,w)=>{const x=s-w;E(M,e(M)[m.label]=(e(M)[m.label]??0)+x)})}if(t.minimumFieldOrder){const s=t.minimumFieldOrder.length;t.minimumFieldOrder.forEach((m,w)=>{const x=s-w;E(N,e(N)[m.label]=(e(N)[m.label]??0)+x)})}if(t.aiSelection&&E(W,e(W)[t.aiSelection]=(e(W)[t.aiSelection]??0)+1),t.aiConcerns&&t.aiConcerns.trim().length>0&&e(P).push(t.aiConcerns.trim()),t.currentState&&(E(l,e(l).trust+=t.currentState.trust??0),E(l,e(l).completeness+=t.currentState.completeness??0),E(l,e(l).ownership+=t.currentState.ownership??0),E(l,e(l).monitoring+=t.currentState.monitoring??0),T++),t.priorities)for(const s of t.priorities)F[s.title]||(F[s.title]={impact:0,effort:0,risk:0,count:0}),F[s.title].impact+=s.impact,F[s.title].effort+=s.effort,F[s.title].risk+=s.risk,F[s.title].count++}S(L,Object.entries(F).map(([t,s])=>{const m=s.impact/s.count,w=s.effort/s.count,x=s.risk/s.count,q=m*2-w-x;return{title:t,impact:m.toFixed(2),effort:w.toFixed(2),risk:x.toFixed(2),score:q.toFixed(2)}}).sort((t,s)=>Number(s.score)-Number(t.score)));const c=G(e(N))[0],f=G(e(M))[0],_=[{key:"Trust",value:e(l).trust},{key:"Completeness",value:e(l).completeness},{key:"Ownership",value:e(l).ownership},{key:"Monitoring",value:e(l).monitoring}].map(t=>({...t,avg:T?t.value/T:0})).sort((t,s)=>t.avg-s.avg)[0],j=Object.entries(e(W)).sort((t,s)=>s[1]-t[1])[0];if(c&&e(A).push(`Strongest baseline consensus: "${c[0]}"`),f&&e(A).push(`Most significant friction factor: "${f[0]}"`),_&&T&&e(A).push(`Lowest confidence area: ${_.key} (${_.avg.toFixed(2)} / 5)`),j){const t=(j[1]/e(C).length*100).toFixed(0);e(A).push(`AI governance majority position: "${j[0]}" (${t}%)`)}e(L).length&&e(A).push(`Top prioritised initiative: "${e(L)[0].title}"`)}function U(c){return T?(c/T).toFixed(2):"â€“"}function G(c){return Object.entries(c).sort((f,_)=>_[1]-f[1]).slice(0,5)}ke();var X=Je(),Y=i(X),Z=i(Y),pe=a(i(Z),4);{var ue=c=>{var f=ye(),_=i(f);r(f),y(()=>d(_,`${e(C).length??""} submission${e(C).length===1?"":"s"} loaded`)),b(c,f)};te(pe,c=>{e(C).length&&c(ue)})}r(Z);var re=a(Z,2),ie=i(re),ge=a(i(ie),2);r(ie),r(re),r(Y);var fe=a(Y,2);{var _e=c=>{var f=We(),_=we(f),j=a(i(_),2);R(j,5,()=>e(A),B,(p,o)=>{var n=Ce(),v=i(n,!0);r(n),y(()=>d(v,e(o))),b(p,n)}),r(j),r(_);var t=a(_,2),s=a(i(t),2),m=i(s),w=a(i(m));r(m);var x=a(m,2),q=a(i(x));r(x);var z=a(x,2),me=a(i(z));r(z);var se=a(z,2),he=a(i(se));r(se),r(s),r(t);var D=a(t,2),ae=a(i(D),2);R(ae,5,()=>G(e(N)),B,(p,o,n)=>{var v=V(()=>ee(e(o),2));let $=()=>e(v)[0],u=()=>e(v)[1];var g=Te(),h=i(g),I=i(h);r(h);var J=a(h);r(g),y(()=>{d(I,`${n+1}. ${$()??""}`),d(J,` (score: ${u()??""})`)}),b(p,g)}),r(ae),r(D);var H=a(D,2),oe=a(i(H),2);R(oe,5,()=>G(e(M)),B,(p,o,n)=>{var v=V(()=>ee(e(o),2));let $=()=>e(v)[0],u=()=>e(v)[1];var g=Ae(),h=i(g),I=i(h);r(h);var J=a(h);r(g),y(()=>{d(I,`${n+1}. ${$()??""}`),d(J,` (score: ${u()??""})`)}),b(p,g)}),r(oe),r(H);var K=a(H,2),$e=a(i(K),2);R($e,1,()=>e(L),B,(p,o,n)=>{var v=Ie(),$=i(v),u=i($),g=i(u);r(u);var h=a(u,2),I=i(h);r(h),r($);var J=a($,2),be=i(J,!0);r(J),r(v),y(()=>{d(g,`${n+1}. ${e(o).title??""}`),d(I,`Impact: ${e(o).impact??""} | Effort: ${e(o).effort??""} | Risk: ${e(o).risk??""}`),d(be,e(o).score)}),b(p,v)}),r(K);var le=a(K,2),Q=a(i(le),2);R(Q,5,()=>Object.entries(e(W)),B,(p,o)=>{var n=V(()=>ee(e(o),2));let v=()=>e(n)[0],$=()=>e(n)[1];var u=Ee(),g=i(u),h=i(g,!0);r(g);var I=a(g);r(u),y(()=>{d(h,v()),d(I,`: ${$()??""}`)}),b(p,u)}),r(Q);var je=a(Q,2);{var xe=p=>{var o=Ne(),n=a(i(o),2);R(n,5,()=>e(P),B,(v,$)=>{var u=Me(),g=i(u,!0);r(u),y(()=>d(g,e($))),b(v,u)}),r(n),r(o),b(p,o)};te(je,p=>{e(P).length&&p(xe)})}r(le),y((p,o,n,v)=>{d(w,` ${p??""} / 5`),d(q,` ${o??""} / 5`),d(me,` ${n??""} / 5`),d(he,` ${v??""} / 5`)},[()=>U(e(l).trust),()=>U(e(l).completeness),()=>U(e(l).ownership),()=>U(e(l).monitoring)]),b(c,f)};te(fe,c=>{e(C).length&&c(_e)})}r(X),Oe("change",ge,ce),b(ne,X),Fe()}export{Xe as component};
